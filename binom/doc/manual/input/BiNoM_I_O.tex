\subsection{Import BioPAX 3 document}
BioPAX level 3 information is fully supported (reaction network, interaction network, pathway structure, annotations).\\\\
\textbf{Plugins$\Rightarrow$BiNoM 2.1$\Rightarrow$BiNoM  I/O$\Rightarrow$Import BioPAX 3 Document from file}\\
The model M-Phase-L3.owl \cite{novak1998model} is uploaded. A dialog window
proposes to create three different interfaces from the BioPAX file: reaction
network (RN), pathway structure (PS) and interaction map (IM).

\begin{itemize}
\item Reaction network: M-Phase-L3 RN is a representation of the reaction network (figure~\ref{View_BioPAX_of_Novak}).
\item Pathway structure: M-Phase-L3 PS represents the pathway hierarchical
structure. For this example, we choose to show a more detailed and complete
pathway, the apoptosis sub-network extracted from Reactome database
(figure~\ref{Apoptosis_pathway_hierarchical_structure}).
\item Protein interaction: M-Phase-L3 IM shows which proteins interact with each other.
\end{itemize}
For more details on BioPAX, its interfaces, etc, go to section \ref{Standard_BioPAX_Interfaces}.
\begin{figure}
\centering
\includegraphics[width=0.8\textwidth]{graphics/View_BioPAX_of_Novak}
\caption{BioPAX view of Novak et al. model.}
\label{View_BioPAX_of_Novak}
\end{figure}
\begin{figure}
\centering
\includegraphics[width=0.8\textwidth]{graphics/Apoptosis_pathway_hierarchical_structure}
%\caption{Apoptosis pathway hierarchical structure. Green nodes represent pathways, pink triangular nodes represent steps, and grey nodes represent reactions. From the apoptosis node (top node in red), the cell can choose through 5 different paths. The red-colored path shows one of them, the activation of apoptosis via the intrinsic pathway, leading to the cleavage of caspases 3.}
\caption{Apoptosis pathway hierarchical structure. Green nodes represent
pathways, pink triangular nodes represent steps, and grey nodes represent
reactions.}
\label{Apoptosis_pathway_hierarchical_structure}
\end{figure}
\\In the case of creating the pathway structure interface, several choices are offered:
\begin{itemize}
\item Make Root Pathway Node: adds an extra node to which all pathways are connected. This feature can be useful for organizing the graph and joining separate and disjoint pathways.
\item Include Next Links: shows the ‘order’ of the reactions. From a node, an arrow indicates which node is the next step. This feature provides a timeline of the events in a pathway and could emphasize, for example, the linearity of a cascade.
\item Include Pathways: includes green nodes (figure~\ref{Apoptosis_pathway_hierarchical_structure}) which correspond to the names of the different pathways of the network.
\item Include interactions: shows explicitly the reactions involved in the pathway (lower grey nodes in figure~\ref{Apoptosis_pathway_hierarchical_structure}).
\end{itemize}\
\textbf{Plugins$\Rightarrow$BiNoM 2.1$\Rightarrow$BiNoM I/O$\Rightarrow$Import BioPAX 3 Document from URL}\\
A BioPAX 3 document can also be imported directly from a URL. The web address must be typed in the dialog window.



\subsection{Import CellDesigner document}
\textbf{Plugins$\Rightarrow$BiNoM 2.1$\Rightarrow$BiNoM I/O$\Rightarrow$Import CellDesigner Document from file}\\
The model can be drawn – or downloaded\cite{novak1998model} – in CellDesigner (figure~\ref{CellDesigner_view_of_yeast_cell_division}) and saved as M-Phase.xml.\\
The “Import CellDesigner Document from file” function imports a model from CellDesigner to Cytoscape.  A dialog window opens and M-Phase.xml needs to be selected and imported (figure~\ref{Cytoscape_view_of_yeast_cell_division}).\\
\begin{figure}
\centering
\includegraphics[width=0.8\textwidth]{graphics/CellDesigner_view_of_yeast_cell_division}
\caption{CellDesigner view of the cell division cycle model of fission yeast\cite{novak1998model}}
\label{CellDesigner_view_of_yeast_cell_division}
\end{figure}\begin{figure}
\centering
\includegraphics[width=0.8\textwidth]{graphics/Cytoscape_view_of_yeast_cell_division}
\caption{Cytoscape view of the cell division cycle model of fission yeast from a CellDesigner document}
\label{Cytoscape_view_of_yeast_cell_division}
\end{figure}
\\Figure~\ref{CellDesigner_view_of_yeast_cell_division}~and~\ref{Cytoscape_view_of_yeast_cell_division} show the same model viewed by CellDesigner and Cytoscape respectively. The layout information from CellDesigner is imported automatically into Cytoscape.\\\\
In species notes in CellDesigner “Attribute name:Value” as HUGO:E2F1 (without blank) is converted in Cytoscape as the attribute HUGO with the value E2F1 for the specie.\\\\



\subsection{Import CSML document}
\textbf{Plugins$\Rightarrow$BiNoM 2.1$\Rightarrow$BiNoM I/O$\Rightarrow$Import CSML document}\\
BiNoM imports a CSML (Cell System Markup Language, csml.org)



\subsection{Import influence network from AIN file} \label{Import_AIN_file}

\textbf{Plugins$\Rightarrow$BiNoM 2.1$\Rightarrow$BiNoM I/O$\Rightarrow$Import AIN file}\\

This option proposes to automatically import an influence network in Cytoscape
from a simple tab-delimited text file. We call the format of the
text file AIN (Annotated Influence Network). Basically each row of the text file is encoding an
interaction between two species, with a few optional descriptive fields. The precise
format for each field is described in the appendices (section~\ref{AIN_file_format}). 

The AIN file of the apoptosis model ExamplApop.txt is imported. First, the user
is asked to manage the families (groups of genes or proteins, see the appendices
for a precise description): they can be expanded (replacing the family by all
its members) or collapsed (replacing all family members by the name of the
family). See figure~\ref{AIN_dialog_for_families_management}.\\\\

\begin{figure}
\centering
\includegraphics[width=0.8\textwidth]{graphics/AIN_dialog_for_families_management}
\caption{Dialog window for families management when importing the apoptosis network influence file (AIN format). BiNoM automatically detects gene families and proposes to either collapse or expand them.}
\label{AIN_dialog_for_families_management}
\end{figure}

Then a dialog window proposes to add constitutive reactions: influences that
link proteins (or families) to their complexes and proteins (or families) to
their phosphorylated state. See
figure~\ref{AIN_dialog_for_constitutive_reactions}.\\\\

\begin{figure}
\centering
\includegraphics[width=0.5\textwidth]{graphics/AIN_dialog_for_constitutive_reactions}
\caption{Dialog window for constitutive reactions when importing apoptosis influence file. BiNoM detects all possible constitutive reactions and proposes to add them.}
\label{AIN_dialog_for_constitutive_reactions}
\end{figure}
The imported network is synchronized with BioPAX format that includes the annotations of the AIN file. All this information can be accessed via “BioPAX 3 property editor” (see BioPAX Utils, section ~\ref{BioPAX_Property_Editor}).



\subsection{Import reaction network from BiNoM reaction format file} \label{Import_reaction_format}
This function is available in the experimental version of BiNoM. 
A network can be written as a list of reactions. The network can be a biochemical reaction network or an influence network following the notation below.

\includegraphics[width=1\textwidth]{graphics/syntax_text_network.png} 

Here we give an example of an influence network: 
\begin{verbatim}
MOMP-+>CYTOCHROME_C
APAF1-+>CASP9
SMAC-|>XIAP
FADD-+>CASP8
CASP8-+>CASP3
CASP8-+>BID
BAX-|>MOMP
CASP9-+>CAPS3
XIAP-|>CASP3
XIAP-|>CASP9
BID-+>MOMP
\end{verbatim}

The file must be saved in a txt format (with extension .txt). Here, the file is saved: apoptosis.txt

A network written with the BiNoM reaction format can then be imported in Cytoscape. \\
\textbf{Plugins$\Rightarrow$BiNoM 2.5$\Rightarrow$BiNoM I/O$\Rightarrow$Import reaction network from BiNoM reaction format file}\\

Choose apoptosis.txt

\begin{figure}
\centering
\includegraphics[width=1\textwidth]{graphics/Import_brff.png} 
\caption{Network written with BiNoM format file and imported in Cytoscape. No layout is applied here.}
\label{Network_format_file}
\end{figure}



\subsection{Export current network to BioPAX 3 or to CellDesigner} \label{Export_current_network}
The Cytoscape networks can be exported in BioPAX and CellDesigner by:
\begin{itemize}
\item \textbf{Plugins$\Rightarrow$BiNoM 2.1$\Rightarrow$BiNoM I/O$\Rightarrow$Export current network to BioPAX 3}
\item \textbf{Plugins$\Rightarrow$BiNoM 2.1$\Rightarrow$BiNoM I/O$\Rightarrow$Export current network to CellDesigner}
\end{itemize}
\includegraphics[width=20pt,height=20pt]{graphics/warning} The network to be exported should be associated to an existing CellDesigner or BioPAX file by using the functions:
\begin{itemize}
\item Associate BioPAX Source, see section~\ref{Associate_BioPAX_Source}.
\item Associate CellDesigner Source,see~\ref{Associate_CellDesigner_Source}.
\end{itemize}
BiNoM is able to convert CellDesigner to BioPAX, and BioPAX
reaction network interface to pure SBML. BiNoM can also export only a
part of a CellDesigner and BioPAX file, visible in the current Cytoscape network
(interface). During the export operation, BiNoM can merge a part of
associated BioPAX file with another part that has been saved already. BiNoM can modify the
content of a BioPAX file. \\\\

\includegraphics[width=20pt,height=20pt]{graphics/warning} BiNoM is NOT able to
create a CellDesigner file with all the graphical notations from a BioPAX file or from
scratch, and it is also not able to modify the content of a CellDesigner file.\\\\

Here are a couple of typical scenarios where BiNoM export operations can be useful.
\begin{enumerate}
\item User imports a big BioPAX file as reaction network and using Cytoscape creates a new subnetwork from the global reaction graph. After he can export this subnetwork into a separate self-containing BioPAX file.
\item User imports the pathway structure of a big BioPAX file and selects only a few pathway or pathwayStep nodes he is interested in. After he can export a part of the BioPAX file necessary to define these pathways.
\item User imports a BioPAX file as reaction network, selects a subnetwork and exports it as pure SBML to be used for creation of a computational model of this subpart later.
\item User imports CellDesigner file, selects a subnetwork and exports it as a CellDesigner file: it can be useful for creating a CellDesigner image of a network module of a big reaction network.
\item User imports CellDesigner file, selects a subnetwork and exports it as a BioPAX file (some SBML-specific information such as parameters values will be lost).
\end{enumerate}
The networks created as a result of the import operation are already associated to the corresponding BioPAX or CellDesigner files. However, if the XGMML file is saved and used in another Cytoscape session, or if a new network is created from the initial network with Cytoscape New menu then this association is lost.\\\\
To perform export operation, the network should be Re-associated to the corresponding file (from which it is originated) through Plugins$\Rightarrow$BiNoM 2.1$\Rightarrow$BiNoM I/O$\Rightarrow$Associate$\ldots$ operation. For huge BioPAX files the association might take some time for the first association, but once the file is loaded into memory cache, the following associations are almost instantaneous.\\\\
To understand better what BiNoM can do or can not, read the sections \ref{Attributed_graph_model}, \ref{BiNoM_Naming_Service} and \ref{Standard_BioPAX_Interfaces} about the BiNoM data model.



\subsection{Create CellDesigner file from current network}
This function is available in the experimental version of BiNoM. \\
\textbf{Plugins$\Rightarrow$BiNoM 2.5$\Rightarrow$BiNoM I/O$\Rightarrow$Create CellDesigner file from current network}\\

The file needs to be saved with the extension .xml.


This function is different than:\\
\textbf{Plugins$\Rightarrow$BiNoM 2.5$\Rightarrow$BiNoM I/O$\Rightarrow$Export current network to CellDesigner}\\
With this export function, the user needs to associate the network to an existing CellDesigner file. It is useful when creating a subnetwork from an existing CellDesigner network, for instance.

Here we save our network with the name: apoptosis.xml.

Open the saved file into CellDesigner. Apply the orthogonal layout or re-arrange the network as you wish.


\begin{figure}
\includegraphics{graphics/Import_CD_brff.png}
\caption{Network written with BiNoM format file and imported in CellDesigner. Orthogonal layout is applied here.}
\label{import_CD}
\end{figure}

The network exported in CellDesigner can also be a network imported from a BioPAX file. This function allows the visualization of a BioPAX file in CellDesigner.  For that, you need to import a BioPAX file using the function:\\
\textbf{Plugins$\Rightarrow$BiNoM 2.5$\Rightarrow$BiNoM I/O$\Rightarrow$Import reaction network from BioPAX}\\


\begin{itemize}
\item Importing any type of BioPAX file 

Here we choose exampleBIOPAX.owl.

\includegraphics{graphics/example_BioPAX.png} 

Then, export the current network to CellDesigner using the function:\\
\textbf{Plugins$\Rightarrow$BiNoM 2.5$\Rightarrow$BiNoM I/O$\Rightarrow$Create CellDesigner file from current network}\\

Save the file as: example.BIOPAX.xml

Open the file in CellDesigner:\\

\includegraphics{graphics/BioPAX_to_CD.png} 

\item Importing a BioPAX file from WikiPathways \\
Here are the steps: 
\begin{enumerate}
\item Download the pathway $Senescence and Autophagy (Homo sapiens)$ and save the file $WP615_60842 RN$ from WikiPathways website; 
\item Import network in Cytoscape with the function: 
\textbf{Plugins$\Rightarrow$BiNoM 2.5$\Rightarrow$BiNoM I/O$\Rightarrow$Import reaction network from BioPAX}
\item Create a CellDesigner file from this network:
\textbf{Plugins$\Rightarrow$BiNoM 2.5$\Rightarrow$BiNoM I/O$\Rightarrow$Create CellDesigner file from current network}\\
And save it as: $WP615_60842.xml$.
\item Launch CellDesigner and open the file: $WP615_60842.xml$
\begin{figure}
\includegraphics[width=1\textwidth]{graphics/wikipathways_CD.png}
\caption{Network downloaded in WikiPathways and imported in CellDesigner. Orthogonal layout is applied here.}
\label{import_CD}
\end{figure}
\item Apply a layout (here organic).
\end{enumerate}

\end{itemize}

\subsection{Export current network to SBML}
\textbf{Plugins$\Rightarrow$BiNoM 2.1$\Rightarrow$BiNoM I/O$\Rightarrow$Export current network to SBML}\\
Export the current network to pure SBML level 2.


\subsection{Export network to BiNoM reaction format}
\textbf{Plugins$\Rightarrow$BiNoM 2.1$\Rightarrow$BiNoM I/O$\Rightarrow$Export network to BiNoM reaction format}\\

This function allows to translate a network into a list of reactions. The file is saved as a text file.

As an example, we imported the file M-Phase.xml and exported the network to BiNoM reaction format file. The file is saved as a txt file (MPhasebrff.txt) as follows: 

\begin{verbatim}
(APC':Slp1')||active'|active
(APC:Slp1)||active
Cdc13:Cdc2|Thr167_pho:Rum1
Rum1|pho
Rum1
Cdc13|ubi
(Cdc13:Cdc2|Thr167_pho)||active
Cdc13:Cdc2|Thr14_pho|Tyr15_pho|Thr167_pho
Cdc13:Cdc2|Thr14_pho|Tyr15_pho
Cdc13:Cdc2|Tyr15_pho
Cdc13:Cdc2
Cdc13
Plo1
Cdc25|pho|active
Wee1|pho
Wee1
Cdc2|Thr167_pho
Cdc25
Cdc2
PP2A
CAK

Rum1+(Cdc13:Cdc2|Thr167_pho)||active-:>Cdc13:Cdc2|Thr167_pho:Rum1
Rum1|pho->null
Rum1-(Cdc13:Cdc2|Thr167_pho)||active->Rum1|pho
(APC:Slp1)||active-(Cdc13:Cdc2|Thr167_pho)||active->(APC':Slp1')||active'|active
Cdc13+Cdc2-:>Cdc13:Cdc2
Cdc25|pho|active-PP2A->Cdc25
Cdc25-(Cdc13:Cdc2|Thr167_pho)||active-Plo1->Cdc25|pho|active
Wee1-(Cdc13:Cdc2|Thr167_pho)||active->Wee1|pho
Cdc13|ubi->null
(Cdc13:Cdc2|Thr167_pho)||active-(APC':Slp1')||active'|active-=>Cdc13|ubi+Cdc2|Thr167_pho
Cdc2|Thr167_pho->Cdc2
Cdc13:Cdc2|Thr14_pho|Tyr15_pho|Thr167_pho-Cdc25|pho|active->(Cdc13:Cdc2|Thr167_pho)||active
Cdc13:Cdc2|Thr14_pho|Tyr15_pho-CAK->Cdc13:Cdc2|Thr14_pho|Tyr15_pho|Thr167_pho
Cdc13:Cdc2|Tyr15_pho-Wee1->Cdc13:Cdc2|Thr14_pho|Tyr15_pho
Cdc13:Cdc2-Wee1->Cdc13:Cdc2|Tyr15_pho
\end{verbatim}

Note that BiNoM lists first all the species and then the reactions. 


We propose three scenarios that use BiNoM reaction format file.
\begin{itemize}
\item First scenario: create a CellDesigner file from a textual model
	\begin{enumerate}
		\item Write network in text format:
			\begin{verbatim}
			A => B
			B+C=>D+E
			...
			\end{verbatim}
		\item Import reaction network in Cytoscape using BiNoM
		\item Create CellDesigner file from current network
		\item Open CellDesigner and import the newly saved file
	\end{enumerate}
\item Second scenario: create a CellDesigner file from BioPAX file
	\begin{enumerate}
		\item Import a BioPAX file in Cytoscape
		\item Create CellDesigner file from current network
		\item Open CellDesigner and import the newly saved file
	\end{enumerate}
\end{itemize}


\subsection{Associate BioPAX 3 Source} \label{Associate_BioPAX_Source}
\textbf{Plugins$\Rightarrow$BiNoM 2.1$\Rightarrow$BiNoM I/O$\Rightarrow$Associate BioPAX 3 Source}\\
Associate a BioPAX 3 Source to allow exportation in BioPAX 3 as explained in section~\ref{Export_current_network}




\subsection{Save whole associated BioPAX 3 as}
When the content of the BioPAX file is modified (through the BioPAX property editor, see section ~\ref{BioPAX_Property_Editor}), it can be saved as a whole (not only the visible part) by\\
\textbf{Plugins$\Rightarrow$BiNoM 2.1$\Rightarrow$BiNoM I/O$\Rightarrow$Save whole associated BioPAX 3 as}\\
Otherwise, all modifications made in the different interfaces are lost. Changes are visible but only recorded permanently when the document is saved to a file.



\subsection{Associate CellDesigner Source}\label{Associate_CellDesigner_Source}
\textbf{Plugins$\Rightarrow$BiNoM 2.1$\Rightarrow$BiNoM I/O$\Rightarrow$Associate BioPAX 3 Source} \\
Associate a CellDesigner Source to allow exportation in CellDesigner as explained in section~\ref{Export_current_network}



\subsection{List all reactions}
\textbf{Plugins$\Rightarrow$BiNoM 2.1$\Rightarrow$BiNoM I/O$\Rightarrow$List all reactions} \\
Display list of reactions, can be copied by control+A then control+C.



\subsection{List all nodes}
\textbf{Plugins$\Rightarrow$BiNoM 2.1$\Rightarrow$BiNoM I/O$\Rightarrow$List all nodes} \\
Display list of nodes, can be copied by control+A then control+C.



\subsection{Color CellDesigner proteins}
\textbf{Plugins$\Rightarrow$BiNoM 2.1$\Rightarrow$BiNoM I/O$\Rightarrow$Color CellDesigner proteins}\\
Cytoscape allows coloring nodes according to values of attributes (for example expression data) by the powerful possibilities of VizMapper. The export to CellDesigner keeps the colors. This process can be used to color species in CellDesigner. The function Color CellDesigner proteins allows to color proteins in CellDesigner which describe the components of complexes.\\\\
The gene expression file is based on Hugo names, data in columns (first line title and tabulation as column separator):\\Hugo names\textless Tab\textgreater expression level 1\textless Tab\textgreater expression level 2$\ldots$\\\\
Open dialog box “Color CellDesigner proteins…”, input CellDesigner file name and gene expression file, click on ok. BiNoM generate a file *.conv where Hugo names are converted in protein names (links by annotation in CellDesigner, check if correct) and a CellDesigner file by column. When there are several Hugo name the highest is kept.\\\\
Figure~\ref{Colored_CellDesigner_view_by_ficticious_data} shows the aspect of colored proteins inside complexes.
\begin{figure}
\centering
\includegraphics[width=0.8\textwidth]{graphics/Colored_CellDesigner_view_by_ficticious_data}
\caption{CellDesigner view of an extract from Rb-E2F\cite{calzone2008comprehensive} pathway colored by ficticious expression data}
\label{Colored_CellDesigner_view_by_ficticious_data}
\end{figure}



\subsection{Modify CellDesigner notes}
\textbf{Plugins$\Rightarrow$BiNoM 2.1$\Rightarrow$BiNoM I/O$\Rightarrow$Color CellDesigner proteins}\\
Modify in Cytoscape the notes of CellDesigner file when exporting.
