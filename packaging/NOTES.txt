
package:

$TARGET/navicell/factory/
  lib/
  data/
  scripts/
  examples/ # to produce maps 

$TARGET/navicell/site/
   docroot/demo
   docroot/data # dont need to be on web site
   docroot/maps/cellcycle_light
   docroot/navicell/lib
   docroot/navicell/map_icons

   # following directories can be see later
   docroot/navicell/doc
   cgi-bin/

   docroot/navicell/images # don't seem to be useful

$TARGET/navicell/bindings/
   python/
   JNaviCell/
   RNaviCell/

rest_api generation:
pwd
/bioinfo/users/eviara/workspace/BiNoM2011/src/python_api
 sh ../../scripts/curie_pydoc3 curie.navicell

navicell_demo/demo -> docroot/demo
src/data -> docroot/data
html/maps -> ...

cd scripts
NOEXT=1 sh build_navicell_lib.sh /tmp/t.tgz 
cd $TARGET/navicell/site/html/navicell
tar xvfz /tmp/t.tgz

gene enrichment
src/analysis_cgi/gene_enrichment/ -> cgi-bin/

making the demo:
pwd
/bioinfo/projects_prod/acsn/5_ACSN_Assembly
tar chvfz ~/workspace/BiNoM2011/packaging/cellcycle_demo.tgz cellcycle_light
=> NO, bad way to build this tar


 APACHE_CONFDIR=$(pwd)/httpd.conf /usr/sbin/apachectl start


# Web site installation
# 
#
# navicell download directory
NAVICELL_PUB=/scratch/NAVICELL_PUB

cd $NAVICELL_PUB/navicell/factory/examples
sh build_cellcycle_map.sh

MIND: google chrome must be launched with this option
google-chrome --allow-file-access-from-files

# the document root of you web site
WEBSITE_DOCROOT=/bioinfo/users/eviara/public_html
# the cgi-bin of you web site
WEBSITE_CGI_BIN=/bioinfo/users/eviara/public_html/cgi-bin
# the top URL of your website
WEBSITE_URL="http://localhost/~eviara"

cp -r ${NAVICELL_PUB}/navicell/site/docroot/* $WEBSITE_DOCROOT/
cp ${NAVICELL_PUB}/navicell/site/cgi-bin/* $WEBSITE_CGI_BIN/
=> NOTICE: needs PHP mode in apache

=> MIND: must change rights as follows:
find $WEBSITE_DOCROOT/navicell $WEBSITE_DOCROOT/data -type d | xargs chmod a+rx
find $WEBSITE_DOCROOT/navicell $WEBSITE_DOCROOT/data \! -type d | xargs chmod a+r
find $WEBSITE_CGI_BIN | xargs chmod a+rx

cellcycle: URL
CELLCYCLE_URL="${WEBSITE_URL}/navicell/maps/cellcycle/master/index.php?demo=on"
echo $CELLCYCLE_URL

Python binding
--------------

# to use Chrome, set this environment variable:
export NV_BROWSER_COMMAND='/usr/bin/google-chrome %s'
# else the default browser will be used

export PYTHONPATH=$NAVICELL_PUB/navicell/bindings/python:$NAVICELL_PUB/navicell/bindings/python/examples

cd $NAVICELL_PUB/navicell/bindings/python/examples

1. Using Curie Institute site

export NV_PROXY_URL="https://navicell.curie.fr/cgi-bin/nv_proxy.php"
export NV_MAP_URL="https://navicell.curie.fr/navicell/maps/cellcycle/master/index.php"

$NAVICELL_PUB/navicell/bindings/python/nvpy --launch-browser
import test
test.test(nv)

2. Using localhost installation

export NV_PROXY_URL=${WEBSITE_URL}/navicell/proxy/nv_proxy.php
export NV_MAP_URL="${WEBSITE_URL}/navicell/maps/cellcycle/master/index.php"

$NAVICELL_PUB/navicell/bindings/python/nvpy --launch-browser
import test
test.test(nv)

R binding
---------

# to use Chrome, set this environment variable:
export NV_BROWSER_COMMAND='/usr/bin/google-chrome %s'
# else the default browser will be used

cd $NAVICELL_PUB/navicell/bindings/RNaviCell/examples

1. Using Curie Institute site

export NV_PROXY_URL="https://navicell.curie.fr/cgi-bin/nv_proxy.php"
export NV_MAP_URL="https://navicell.curie.fr/navicell/maps/cellcycle/master/index.php"

R
library('RCurl')
library('RJSONIO')
source('../R/NaviCell_RC.R')
source('test.R')

2. Using localhost installation

export NV_PROXY_URL=${WEBSITE_URL}/navicell/proxy/nv_proxy.php
export NV_MAP_URL="${WEBSITE_URL}/navicell/maps/cellcycle/master/index.php"

R
library('RCurl')
library('RJSONIO')
source('../R/NaviCell_RC.R')
source('test.R')

Java binding
------------

cd $NAVICELL_PUB/navicell/bindings/JNaviCell/examples
sh compile_test.sh 

1. Using Curie Institute site

export NV_PROXY_URL="https://navicell.curie.fr/cgi-bin/nv_proxy.php"
export NV_MAP_URL="https://navicell.curie.fr/navicell/maps/cellcycle/master/index.php"

sh run_test.sh

2. Using localhost installation

export NV_PROXY_URL=${WEBSITE_URL}/navicell/proxy/nv_proxy.php
export NV_MAP_URL="${WEBSITE_URL}/navicell/maps/cellcycle/master/index.php"

sh run_test.sh
